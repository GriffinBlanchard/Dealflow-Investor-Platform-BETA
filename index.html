<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dealflow - Overcrest Realty</title>
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Cormorant+Garamond:wght@300;400;600;700&display=swap" rel="stylesheet">
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Space Mono', monospace; }
    body, html { background-color: #1a5c4a; min-height: 100vh; }
    #root { min-height: 100vh; }
    .serif { font-family: 'Cormorant Garamond', serif; }
    .gradient-lime { background: linear-gradient(135deg, #c4e538 0%, #d4ff00 50%, #c4e538 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
    .input-field { background-color: rgba(42, 109, 90, 0.5); border: 1px solid rgba(196, 229, 56, 0.2); transition: all 0.3s ease; padding: 12px 16px; border-radius: 8px; color: white; width: 100%; font-size: 14px; }
    .input-field:focus { outline: none; border-color: #c4e538; background-color: rgba(42, 109, 90, 0.7); }
    .input-field::placeholder { color: rgba(255,255,255,0.4); }
    .btn-primary { background-color: #c4e538; color: #0f4436; font-weight: bold; padding: 16px 24px; border-radius: 8px; border: none; cursor: pointer; width: 100%; transition: all 0.3s ease; font-size: 14px; }
    .btn-primary:hover { background-color: #afd430; }
    .btn-primary:disabled { opacity: 0.5; cursor: not-allowed; }
    .btn-secondary { background: transparent; border: 2px solid #c4e538; color: #c4e538; padding: 14px 24px; border-radius: 8px; cursor: pointer; font-weight: bold; transition: all 0.3s ease; font-size: 14px; }
    .btn-secondary:hover { background-color: #c4e538; color: #0f4436; }
    .card { background: linear-gradient(135deg, rgba(15, 68, 54, 0.8) 0%, rgba(42, 109, 90, 0.6) 100%); border: 2px solid rgba(196, 229, 56, 0.2); border-radius: 16px; padding: 24px; transition: all 0.3s ease; }
    .card:hover { border-color: #c4e538; transform: translateY(-2px); }
    .card-clickable { cursor: pointer; }
    .badge { padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: bold; }
    .badge-lime { background: linear-gradient(135deg, #c4e538, #afd430); color: #0f4436; }
    .badge-verified { background: linear-gradient(135deg, #22c55e, #16a34a); color: white; }
    .badge-pending { background: rgba(251, 191, 36, 0.2); color: #fcd34d; border: 1px solid rgba(251, 191, 36, 0.3); }
    .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.8); backdrop-filter: blur(4px); display: flex; align-items: center; justify-content: center; padding: 16px; z-index: 100; }
    .modal { background: #0f4436; border-radius: 16px; max-width: 600px; width: 100%; max-height: 90vh; overflow-y: auto; border: 2px solid rgba(196, 229, 56, 0.3); }
    .upload-zone { border: 2px dashed rgba(196, 229, 56, 0.3); background: rgba(42, 109, 90, 0.3); border-radius: 12px; padding: 40px; text-align: center; cursor: pointer; transition: all 0.3s ease; }
    .upload-zone:hover { border-color: #c4e538; background: rgba(42, 109, 90, 0.5); }
    .filter-btn { padding: 12px 20px; border-radius: 8px; border: 2px solid transparent; cursor: pointer; font-weight: bold; transition: all 0.3s ease; white-space: nowrap; font-size: 13px; }
    .filter-btn.active { background-color: #c4e538; color: #0f4436; border-color: #c4e538; }
    .filter-btn:not(.active) { background: rgba(42, 109, 90, 0.5); color: white; border-color: rgba(196, 229, 56, 0.2); }
    .filter-btn:not(.active):hover { border-color: #c4e538; }
    .property-card { background: linear-gradient(135deg, rgba(15, 68, 54, 0.8) 0%, rgba(42, 109, 90, 0.6) 100%); border: 2px solid rgba(196, 229, 56, 0.2); border-radius: 16px; overflow: hidden; transition: all 0.3s ease; }
    .property-card:hover { border-color: #c4e538; transform: translateY(-4px); box-shadow: 0 10px 30px rgba(196, 229, 56, 0.15); }
    .flag-btn { position: absolute; top: 12px; right: 12px; width: 40px; height: 40px; border-radius: 50%; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; }
    .flag-btn.flagged { background: #c4e538; color: #0f4436; }
    .flag-btn:not(.flagged) { background: rgba(0,0,0,0.5); color: white; }
    .scrollbar-hide::-webkit-scrollbar { display: none; }
    .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
    .pulse { animation: pulse 2s infinite; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState } = React;

    // SVG Icons
    const Icon = ({ name, size = 20 }) => {
      const icons = {
        eye: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>,
        eyeOff: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>,
        check: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="20 6 9 17 4 12"/></svg>,
        arrowRight: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>,
        shield: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>,
        building: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="4" y="2" width="16" height="20" rx="2"/><path d="M9 22v-4h6v4M8 6h.01M16 6h.01M12 6h.01M8 10h.01M16 10h.01M12 10h.01M8 14h.01M16 14h.01M12 14h.01"/></svg>,
        home: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>,
        plus: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>,
        x: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
        logout: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>,
        flag: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" y1="22" x2="4" y2="15"/></svg>,
        users: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>,
        upload: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>,
        trendingUp: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>,
        dollar: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>,
        briefcase: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>,
        hammer: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9"/><path d="M17.64 15 22 10.64"/><path d="m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91"/></svg>,
        tree: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M12 22v-7l-2-2"/><path d="M17 8v.8A6 6 0 0 1 13.8 14H10A6.5 6.5 0 0 1 7 8a5 5 0 0 1 10 0Z"/><path d="m14 14 2 2"/></svg>,
        mapPin: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>,
        camera: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></svg>,
        file: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>,
        alert: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>,
        checkCircle: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>,
        clock: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
      };
      return icons[name] || null;
    };

    // Sample marketplace properties
    const SAMPLE_PROPERTIES = [
      { id: 1, type: 'commercial', name: 'Downtown Office Tower', address: '450 Main Street', city: 'San Diego', state: 'CA', price: 8500000, image: 'https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&h=600&fit=crop', sqft: 45000, capRate: 7.2, noi: 612000, occupancy: 92, featured: true, flagged: false },
      { id: 2, type: 'multifamily', name: 'Sunset Apartments', address: '2200 Pacific Highway', city: 'Los Angeles', state: 'CA', price: 12500000, image: 'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=600&fit=crop', units: 48, capRate: 5.8, noi: 725000, occupancy: 96, featured: false, flagged: false },
      { id: 3, type: 'residential-flip', name: 'Charming Craftsman Fixer', address: '1845 Oak Avenue', city: 'Austin', state: 'TX', price: 385000, image: 'https://images.unsplash.com/photo-1570129477492-45c003edd2be?w=800&h=600&fit=crop', sqft: 2200, beds: 3, baths: 2, arv: 580000, roi: 26.1, featured: true, flagged: false },
      { id: 4, type: 'vacant-land', name: 'Highway 101 Development Site', address: 'Highway 101 & Mountain View Rd', city: 'Denver', state: 'CO', price: 2200000, image: 'https://images.unsplash.com/photo-1500382017468-9049fed747ef?w=800&h=600&fit=crop', acres: 15.5, zoning: 'C-2 Commercial', projectedValue: 4500000, roi: 104.5, featured: false, flagged: false },
      { id: 5, type: 'commercial', name: 'Metro Plaza Shopping Center', address: '5600 Commerce Street', city: 'San Diego', state: 'CA', price: 7200000, image: 'https://images.unsplash.com/photo-1555636222-cae831e670b3?w=800&h=600&fit=crop', sqft: 32000, capRate: 6.8, noi: 489600, occupancy: 85, featured: false, onMarket: true, daysOnMarket: 45, reason: '15% below asking', flagged: false },
      { id: 6, type: 'commercial', name: 'Westside Office Complex', address: '3200 Corporate Blvd', city: 'Austin', state: 'TX', price: 5800000, image: 'https://images.unsplash.com/photo-1497366811353-6870744d04b2?w=800&h=600&fit=crop', sqft: 38000, capRate: 7.5, noi: 435000, occupancy: 78, featured: false, onMarket: true, daysOnMarket: 62, reason: 'Price reduced 12%', flagged: false },
    ];

    const PROPERTY_TYPES = [
      { id: 'commercial', name: 'Commercial', icon: 'building', desc: 'Office, retail, industrial' },
      { id: 'multifamily', name: 'Multifamily', icon: 'home', desc: 'Apartments, condos' },
      { id: 'residential-flip', name: 'Residential Flip', icon: 'hammer', desc: 'Fix & flip projects' },
      { id: 'vacant-land', name: 'Vacant Land', icon: 'tree', desc: 'Development sites' },
    ];

    const VERIFICATION_METHODS = [
      { id: 'income', name: 'Income Verification', icon: 'dollar', desc: '$200k+ individual or $300k+ joint income', docs: 'Tax returns (2 years), W-2s' },
      { id: 'net-worth', name: 'Net Worth Verification', icon: 'trendingUp', desc: '$1M+ net worth (excluding primary residence)', docs: 'Bank & brokerage statements' },
      { id: 'professional', name: 'Professional Credentials', icon: 'briefcase', desc: 'Series 7, 65, or 82 license holder', docs: 'License certificate' },
      { id: 'entity', name: 'Entity Verification', icon: 'building', desc: 'Trust/LLC/Corp with $5M+ assets', docs: 'Entity docs, financials' },
    ];

    // Format currency
    const formatCurrency = (n) => new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 0 }).format(n);

    // Main App
    function DealflowApp() {
      const [screen, setScreen] = useState('login');
      const [onboardingStep, setOnboardingStep] = useState('welcome');
      const [showPassword, setShowPassword] = useState(false);
      const [userData, setUserData] = useState({ email: '', password: '', fullName: '', phone: '' });
      const [portfolioProperties, setPortfolioProperties] = useState([]);
      const [currentPropertyType, setCurrentPropertyType] = useState(null);
      const [currentProperty, setCurrentProperty] = useState({});
      const [marketplaceProperties, setMarketplaceProperties] = useState(SAMPLE_PROPERTIES);
      const [activeFilter, setActiveFilter] = useState('all');
      const [selectedProperty, setSelectedProperty] = useState(null);
      const [showFlaggedPanel, setShowFlaggedPanel] = useState(false);
      const [showConfirmation, setShowConfirmation] = useState(false);
      const [confirmationMsg, setConfirmationMsg] = useState('');
      const [verificationStatus, setVerificationStatus] = useState('unverified');
      const [selectedVerificationMethod, setSelectedVerificationMethod] = useState(null);

      const flaggedCount = marketplaceProperties.filter(p => p.flagged).length;

      const toggleFlag = (id) => {
        setMarketplaceProperties(prev => prev.map(p => p.id === id ? {...p, flagged: !p.flagged} : p));
      };

      const requestInfo = (property) => {
        setConfirmationMsg(`Your request for "${property.name}" has been submitted. Our team will contact you within 24 hours.`);
        setShowConfirmation(true);
        setSelectedProperty(null);
      };

      const addPropertyToPortfolio = () => {
        const prop = { ...currentProperty, type: currentPropertyType, id: Date.now() };
        setPortfolioProperties([...portfolioProperties, prop]);
        setCurrentProperty({});
        setCurrentPropertyType(null);
        setOnboardingStep('summary');
      };

      const filteredProperties = marketplaceProperties.filter(p => {
        if (activeFilter === 'all') return true;
        if (activeFilter === 'on-market') return p.onMarket;
        return p.type === activeFilter;
      });

      return (
        <div style={{ minHeight: '100vh', backgroundColor: '#1a5c4a', color: 'white' }}>
          
          {/* ============ LOGIN SCREEN ============ */}
          {screen === 'login' && (
            <div style={{ minHeight: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center', padding: 32 }}>
              <div style={{ maxWidth: 1200, width: '100%', display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(400px, 1fr))', gap: 64, alignItems: 'center' }}>
                <div>
                  <h1 className="serif gradient-lime" style={{ fontSize: 56, fontWeight: 700, marginBottom: 8 }}>DEALFLOW</h1>
                  <p style={{ fontSize: 18, color: '#c4e538', marginBottom: 24 }}>by Overcrest Realty</p>
                  <p style={{ fontSize: 16, color: 'rgba(255,255,255,0.8)', marginBottom: 40, lineHeight: 1.6 }}>
                    Your exclusive access to off-market real estate opportunities and investor partnerships.
                  </p>
                  <div style={{ display: 'grid', gap: 16 }}>
                    <div className="card">
                      <Icon name="building" size={24} />
                      <h3 style={{ fontSize: 16, fontWeight: 700, marginTop: 12 }}>Exclusive Access</h3>
                      <p style={{ fontSize: 13, color: 'rgba(255,255,255,0.7)', marginTop: 4 }}>Off-market deals and verified opportunities</p>
                    </div>
                    <div className="card">
                      <Icon name="trendingUp" size={24} />
                      <h3 style={{ fontSize: 16, fontWeight: 700, marginTop: 12 }}>Higher Returns</h3>
                      <p style={{ fontSize: 13, color: 'rgba(255,255,255,0.7)', marginTop: 4 }}>Partner with verified investors</p>
                    </div>
                  </div>
                </div>

                <div style={{ background: 'rgba(15, 68, 54, 0.9)', borderRadius: 24, padding: 48, border: '2px solid rgba(196, 229, 56, 0.2)' }}>
                  <h2 className="serif gradient-lime" style={{ fontSize: 32, marginBottom: 8 }}>Welcome Back</h2>
                  <p style={{ color: 'rgba(255,255,255,0.7)', marginBottom: 32 }}>Sign in to access your portfolio</p>

                  <form onSubmit={(e) => { e.preventDefault(); setScreen('onboarding'); setOnboardingStep('welcome'); }}>
                    <div style={{ marginBottom: 20 }}>
                      <label style={{ display: 'block', fontSize: 13, fontWeight: 500, marginBottom: 8, color: 'rgba(255,255,255,0.9)' }}>Email Address</label>
                      <input type="email" value={userData.email} onChange={(e) => setUserData({...userData, email: e.target.value})} placeholder="investor@example.com" className="input-field" required />
                    </div>
                    <div style={{ marginBottom: 24 }}>
                      <label style={{ display: 'block', fontSize: 13, fontWeight: 500, marginBottom: 8, color: 'rgba(255,255,255,0.9)' }}>Password</label>
                      <div style={{ position: 'relative' }}>
                        <input type={showPassword ? 'text' : 'password'} value={userData.password} onChange={(e) => setUserData({...userData, password: e.target.value})} placeholder="••••••••" className="input-field" required />
                        <button type="button" onClick={() => setShowPassword(!showPassword)} style={{ position: 'absolute', right: 12, top: '50%', transform: 'translateY(-50%)', background: 'none', border: 'none', color: 'rgba(255,255,255,0.5)', cursor: 'pointer' }}>
                          <Icon name={showPassword ? 'eyeOff' : 'eye'} />
                        </button>
                      </div>
                    </div>
                    <button type="submit" className="btn-primary" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 8 }}>
                      Sign In <Icon name="arrowRight" />
                    </button>
                    <p style={{ textAlign: 'center', marginTop: 20, fontSize: 13, color: 'rgba(255,255,255,0.6)' }}>
                      Don't have an account? <button type="button" onClick={() => setScreen('register')} style={{ background: 'none', border: 'none', color: '#c4e538', cursor: 'pointer', textDecoration: 'underline' }}>Sign up</button>
                    </p>
                  </form>
                </div>
              </div>
            </div>
          )}

          {/* ============ REGISTER SCREEN ============ */}
          {screen === 'register' && (
            <div style={{ minHeight: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center', padding: 32 }}>
              <div style={{ maxWidth: 500, width: '100%', background: 'rgba(15, 68, 54, 0.9)', borderRadius: 24, padding: 48, border: '2px solid rgba(196, 229, 56, 0.2)' }}>
                <h2 className="serif gradient-lime" style={{ fontSize: 32, marginBottom: 8 }}>Create Account</h2>
                <p style={{ color: 'rgba(255,255,255,0.7)', marginBottom: 32 }}>Join our exclusive investor network</p>

                <form onSubmit={(e) => { e.preventDefault(); setScreen('onboarding'); setOnboardingStep('welcome'); }}>
                  <div style={{ marginBottom: 20 }}>
                    <label style={{ display: 'block', fontSize: 13, fontWeight: 500, marginBottom: 8 }}>Full Name</label>
                    <input type="text" value={userData.fullName} onChange={(e) => setUserData({...userData, fullName: e.target.value})} placeholder="John Smith" className="input-field" required />
                  </div>
                  <div style={{ marginBottom: 20 }}>
                    <label style={{ display: 'block', fontSize: 13, fontWeight: 500, marginBottom: 8 }}>Email Address</label>
                    <input type="email" value={userData.email} onChange={(e) => setUserData({...userData, email: e.target.value})} placeholder="investor@example.com" className="input-field" required />
                  </div>
                  <div style={{ marginBottom: 20 }}>
                    <label style={{ display: 'block', fontSize: 13, fontWeight: 500, marginBottom: 8 }}>Phone Number</label>
                    <input type="tel" value={userData.phone} onChange={(e) => setUserData({...userData, phone: e.target.value})} placeholder="(555) 123-4567" className="input-field" required />
                  </div>
                  <div style={{ marginBottom: 24 }}>
                    <label style={{ display: 'block', fontSize: 13, fontWeight: 500, marginBottom: 8 }}>Password</label>
                    <input type="password" value={userData.password} onChange={(e) => setUserData({...userData, password: e.target.value})} placeholder="••••••••" className="input-field" required />
                  </div>
                  <button type="submit" className="btn-primary">Create Account</button>
                  <p style={{ textAlign: 'center', marginTop: 20, fontSize: 13, color: 'rgba(255,255,255,0.6)' }}>
                    Already have an account? <button type="button" onClick={() => setScreen('login')} style={{ background: 'none', border: 'none', color: '#c4e538', cursor: 'pointer', textDecoration: 'underline' }}>Sign in</button>
                  </p>
                </form>
              </div>
            </div>
          )}

          {/* ============ ONBOARDING - WELCOME ============ */}
          {screen === 'onboarding' && onboardingStep === 'welcome' && (
            <div style={{ minHeight: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center', padding: 32 }}>
              <div style={{ maxWidth: 600, width: '100%', textAlign: 'center' }}>
                <div style={{ width: 80, height: 80, background: '#c4e538', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', margin: '0 auto 24px' }}>
                  <Icon name="building" size={40} />
                </div>
                <h2 className="serif gradient-lime" style={{ fontSize: 48, marginBottom: 16 }}>Welcome to Dealflow</h2>
                <p style={{ fontSize: 18, color: 'rgba(255,255,255,0.8)', marginBottom: 40 }}>Let's set up your investor profile and import your existing properties.</p>
                <div style={{ display: 'flex', flexDirection: 'column', gap: 16 }}>
                  <button onClick={() => setOnboardingStep('property-type')} className="btn-primary" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 8 }}>
                    Get Started <Icon name="arrowRight" />
                  </button>
                  <button onClick={() => setOnboardingStep('verification-prompt')} className="btn-secondary">
                    Skip - I'll Add Properties Later
                  </button>
                </div>
              </div>
            </div>
          )}

          {/* ============ ONBOARDING - PROPERTY TYPE SELECTION ============ */}
          {screen === 'onboarding' && onboardingStep === 'property-type' && (
            <div style={{ minHeight: '100vh', padding: 32 }}>
              <div style={{ maxWidth: 900, margin: '0 auto' }}>
                <h2 className="serif gradient-lime" style={{ fontSize: 40, marginBottom: 8 }}>Add Your Properties</h2>
                <p style={{ color: 'rgba(255,255,255,0.7)', marginBottom: 32 }}>Select property type or import from CSV</p>

                <div className="upload-zone" style={{ marginBottom: 32 }}>
                  <Icon name="upload" size={40} />
                  <p style={{ fontWeight: 700, marginTop: 12 }}>Bulk Import from CSV</p>
                  <p style={{ fontSize: 13, color: 'rgba(255,255,255,0.6)', marginTop: 4 }}>Upload a spreadsheet with multiple properties</p>
                </div>

                <p style={{ textAlign: 'center', marginBottom: 24, color: 'rgba(255,255,255,0.5)' }}>— or select property type —</p>

                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: 16 }}>
                  {PROPERTY_TYPES.map(type => (
                    <div key={type.id} onClick={() => { setCurrentPropertyType(type.id); setOnboardingStep('property-form'); }} className="card card-clickable" style={{ textAlign: 'center', padding: 32 }}>
                      <div style={{ width: 56, height: 56, background: '#c4e538', borderRadius: 12, display: 'flex', alignItems: 'center', justifyContent: 'center', margin: '0 auto 16px', color: '#0f4436' }}>
                        <Icon name={type.icon} size={28} />
                      </div>
                      <h3 style={{ fontSize: 16, fontWeight: 700 }}>{type.name}</h3>
                      <p style={{ fontSize: 12, color: 'rgba(255,255,255,0.6)', marginTop: 4 }}>{type.desc}</p>
                    </div>
                  ))}
                </div>

                {portfolioProperties.length > 0 && (
                  <button onClick={() => setOnboardingStep('verification-prompt')} className="btn-primary" style={{ marginTop: 32 }}>
                    Continue ({portfolioProperties.length} properties added)
                  </button>
                )}
              </div>
            </div>
          )}

          {/* ============ ONBOARDING - PROPERTY FORM ============ */}
          {screen === 'onboarding' && onboardingStep === 'property-form' && (
            <div style={{ minHeight: '100vh', padding: 32 }}>
              <div style={{ maxWidth: 600, margin: '0 auto' }}>
                <h2 className="serif gradient-lime" style={{ fontSize: 36, marginBottom: 24 }}>
                  {PROPERTY_TYPES.find(t => t.id === currentPropertyType)?.name} Details
                </h2>

                <div style={{ background: 'rgba(15, 68, 54, 0.8)', borderRadius: 16, padding: 32, border: '1px solid rgba(196, 229, 56, 0.2)' }}>
                  <div style={{ marginBottom: 20 }}>
                    <label style={{ display: 'block', fontSize: 13, fontWeight: 500, marginBottom: 8 }}>Property Name/Address *</label>
                    <input type="text" value={currentProperty.name || ''} onChange={(e) => setCurrentProperty({...currentProperty, name: e.target.value})} placeholder="123 Main Street, City, ST" className="input-field" />
                  </div>

                  <div style={{ marginBottom: 20 }}>
                    <label style={{ display: 'block', fontSize: 13, fontWeight: 500, marginBottom: 8 }}>Purchase Price *</label>
                    <input type="number" value={currentProperty.price || ''} onChange={(e) => setCurrentProperty({...currentProperty, price: e.target.value})} placeholder="2,500,000" className="input-field" />
                  </div>

                  {(currentPropertyType === 'commercial' || currentPropertyType === 'multifamily') && (
                    <>
                      <div style={{ marginBottom: 20 }}>
                        <label style={{ display: 'block', fontSize: 13, fontWeight: 500, marginBottom: 8 }}>Monthly Rent</label>
                        <input type="number" value={currentProperty.monthlyRent || ''} onChange={(e) => setCurrentProperty({...currentProperty, monthlyRent: e.target.value})} placeholder="18,500" className="input-field" />
                      </div>
                      <div style={{ marginBottom: 20 }}>
                        <label style={{ display: 'block', fontSize: 13, fontWeight: 500, marginBottom: 8 }}>Annual Expenses</label>
                        <input type="number" value={currentProperty.expenses || ''} onChange={(e) => setCurrentProperty({...currentProperty, expenses: e.target.value})} placeholder="45,000" className="input-field" />
                      </div>
                    </>
                  )}

                  {currentPropertyType === 'residential-flip' && (
                    <>
                      <div style={{ marginBottom: 20 }}>
                        <label style={{ display: 'block', fontSize: 13, fontWeight: 500, marginBottom: 8 }}>Rehab Budget</label>
                        <input type="number" value={currentProperty.rehabBudget || ''} onChange={(e) => setCurrentProperty({...currentProperty, rehabBudget: e.target.value})} placeholder="65,000" className="input-field" />
                      </div>
                      <div style={{ marginBottom: 20 }}>
                        <label style={{ display: 'block', fontSize: 13, fontWeight: 500, marginBottom: 8 }}>After Repair Value (ARV)</label>
                        <input type="number" value={currentProperty.arv || ''} onChange={(e) => setCurrentProperty({...currentProperty, arv: e.target.value})} placeholder="450,000" className="input-field" />
                      </div>
                    </>
                  )}

                  {currentPropertyType === 'vacant-land' && (
                    <>
                      <div style={{ marginBottom: 20 }}>
                        <label style={{ display: 'block', fontSize: 13, fontWeight: 500, marginBottom: 8 }}>Acreage</label>
                        <input type="number" value={currentProperty.acres || ''} onChange={(e) => setCurrentProperty({...currentProperty, acres: e.target.value})} placeholder="15.5" className="input-field" />
                      </div>
                      <div style={{ marginBottom: 20 }}>
                        <label style={{ display: 'block', fontSize: 13, fontWeight: 500, marginBottom: 8 }}>Projected Value</label>
                        <input type="number" value={currentProperty.projectedValue || ''} onChange={(e) => setCurrentProperty({...currentProperty, projectedValue: e.target.value})} placeholder="4,500,000" className="input-field" />
                      </div>
                    </>
                  )}

                  <div style={{ display: 'flex', gap: 16, marginTop: 24 }}>
                    <button onClick={() => { setCurrentPropertyType(null); setOnboardingStep('property-type'); }} className="btn-secondary" style={{ flex: 1 }}>Back</button>
                    <button onClick={addPropertyToPortfolio} className="btn-primary" style={{ flex: 1 }} disabled={!currentProperty.name || !currentProperty.price}>
                      Add Property
                    </button>
                  </div>
                </div>
              </div>
            </div>
          )}

          {/* ============ ONBOARDING - SUMMARY ============ */}
          {screen === 'onboarding' && onboardingStep === 'summary' && (
            <div style={{ minHeight: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center', padding: 32 }}>
              <div style={{ maxWidth: 500, width: '100%', textAlign: 'center' }}>
                <div style={{ width: 80, height: 80, background: '#c4e538', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', margin: '0 auto 24px', color: '#0f4436' }}>
                  <Icon name="check" size={40} />
                </div>
                <h2 className="serif gradient-lime" style={{ fontSize: 40, marginBottom: 8 }}>Property Added!</h2>
                <p style={{ color: 'rgba(255,255,255,0.7)', marginBottom: 32 }}>You've added {portfolioProperties.length} {portfolioProperties.length === 1 ? 'property' : 'properties'} to your portfolio</p>
                <div style={{ display: 'flex', flexDirection: 'column', gap: 16 }}>
                  <button onClick={() => setOnboardingStep('property-type')} className="btn-secondary" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 8 }}>
                    <Icon name="plus" /> Add Another Property
                  </button>
                  <button onClick={() => setOnboardingStep('verification-prompt')} className="btn-primary">Continue</button>
                </div>
              </div>
            </div>
          )}

          {/* ============ ONBOARDING - VERIFICATION PROMPT ============ */}
          {screen === 'onboarding' && onboardingStep === 'verification-prompt' && (
            <div style={{ minHeight: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center', padding: 32 }}>
              <div style={{ maxWidth: 700, width: '100%' }}>
                <div style={{ textAlign: 'center', marginBottom: 32 }}>
                  <div style={{ width: 96, height: 96, background: '#c4e538', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', margin: '0 auto 24px', color: '#0f4436' }}>
                    <Icon name="shield" size={48} />
                  </div>
                  <h2 className="serif gradient-lime" style={{ fontSize: 44, marginBottom: 8 }}>Verify Your Investor Status</h2>
                  <p style={{ fontSize: 18, color: 'rgba(255,255,255,0.7)' }}>Unlock exclusive deals and partnership opportunities</p>
                </div>

                <div style={{ background: 'rgba(15, 68, 54, 0.8)', borderRadius: 16, padding: 32, border: '1px solid rgba(196, 229, 56, 0.2)', marginBottom: 24 }}>
                  <h3 style={{ fontSize: 20, fontWeight: 700, marginBottom: 24 }}>Why Verify?</h3>
                  <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: 20 }}>
                    <div style={{ display: 'flex', gap: 12 }}>
                      <div style={{ width: 40, height: 40, background: '#c4e538', borderRadius: 8, display: 'flex', alignItems: 'center', justifyContent: 'center', flexShrink: 0, color: '#0f4436' }}><Icon name="shield" /></div>
                      <div>
                        <h4 style={{ fontWeight: 700, marginBottom: 4 }}>Access Exclusive Deals</h4>
                        <p style={{ fontSize: 12, color: 'rgba(255,255,255,0.6)' }}>Reg D 506(c) offerings</p>
                      </div>
                    </div>
                    <div style={{ display: 'flex', gap: 12 }}>
                      <div style={{ width: 40, height: 40, background: '#c4e538', borderRadius: 8, display: 'flex', alignItems: 'center', justifyContent: 'center', flexShrink: 0, color: '#0f4436' }}><Icon name="users" /></div>
                      <div>
                        <h4 style={{ fontWeight: 700, marginBottom: 4 }}>Partner with Investors</h4>
                        <p style={{ fontSize: 12, color: 'rgba(255,255,255,0.6)' }}>Co-invest on deals</p>
                      </div>
                    </div>
                    <div style={{ display: 'flex', gap: 12 }}>
                      <div style={{ width: 40, height: 40, background: '#c4e538', borderRadius: 8, display: 'flex', alignItems: 'center', justifyContent: 'center', flexShrink: 0, color: '#0f4436' }}><Icon name="checkCircle" /></div>
                      <div>
                        <h4 style={{ fontWeight: 700, marginBottom: 4 }}>Build Trust</h4>
                        <p style={{ fontSize: 12, color: 'rgba(255,255,255,0.6)' }}>Verified badge on profile</p>
                      </div>
                    </div>
                    <div style={{ display: 'flex', gap: 12 }}>
                      <div style={{ width: 40, height: 40, background: '#c4e538', borderRadius: 8, display: 'flex', alignItems: 'center', justifyContent: 'center', flexShrink: 0, color: '#0f4436' }}><Icon name="trendingUp" /></div>
                      <div>
                        <h4 style={{ fontWeight: 700, marginBottom: 4 }}>Higher Returns</h4>
                        <p style={{ fontSize: 12, color: 'rgba(255,255,255,0.6)' }}>Institutional-quality deals</p>
                      </div>
                    </div>
                  </div>
                </div>

                <div style={{ display: 'flex', flexDirection: 'column', gap: 12 }}>
                  <button onClick={() => setOnboardingStep('verification')} className="btn-primary" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 8 }}>
                    <Icon name="shield" /> Start Verification (5 minutes)
                  </button>
                  <button onClick={() => setScreen('dashboard')} className="btn-secondary" style={{ opacity: 0.7 }}>
                    Skip for Now - I'll Verify Later
                  </button>
                </div>
              </div>
            </div>
          )}

          {/* ============ ONBOARDING - VERIFICATION METHOD SELECTION ============ */}
          {screen === 'onboarding' && onboardingStep === 'verification' && !selectedVerificationMethod && (
            <div style={{ minHeight: '100vh', padding: 32 }}>
              <div style={{ maxWidth: 900, margin: '0 auto' }}>
                <h2 className="serif gradient-lime" style={{ fontSize: 40, marginBottom: 8 }}>Select Verification Method</h2>
                <p style={{ color: 'rgba(255,255,255,0.7)', marginBottom: 32 }}>Choose how you qualify as an accredited investor</p>

                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: 16 }}>
                  {VERIFICATION_METHODS.map(method => (
                    <div key={method.id} onClick={() => setSelectedVerificationMethod(method.id)} className="card card-clickable">
                      <div style={{ display: 'flex', gap: 16 }}>
                        <div style={{ width: 48, height: 48, background: '#c4e538', borderRadius: 12, display: 'flex', alignItems: 'center', justifyContent: 'center', flexShrink: 0, color: '#0f4436' }}>
                          <Icon name={method.icon} size={24} />
                        </div>
                        <div>
                          <h3 style={{ fontSize: 16, fontWeight: 700, marginBottom: 4 }}>{method.name}</h3>
                          <p style={{ fontSize: 13, color: 'rgba(255,255,255,0.7)', marginBottom: 8 }}>{method.desc}</p>
                          <p style={{ fontSize: 11, color: 'rgba(255,255,255,0.5)' }}>Required: {method.docs}</p>
                        </div>
                      </div>
                    </div>
                  ))}
                </div>

                <button onClick={() => setOnboardingStep('verification-prompt')} className="btn-secondary" style={{ marginTop: 32 }}>Back</button>
              </div>
            </div>
          )}

          {/* ============ ONBOARDING - VERIFICATION DOCUMENT UPLOAD ============ */}
          {screen === 'onboarding' && onboardingStep === 'verification' && selectedVerificationMethod && (
            <div style={{ minHeight: '100vh', padding: 32 }}>
              <div style={{ maxWidth: 600, margin: '0 auto' }}>
                <h2 className="serif gradient-lime" style={{ fontSize: 36, marginBottom: 8 }}>Upload Documents</h2>
                <p style={{ color: 'rgba(255,255,255,0.7)', marginBottom: 32 }}>Securely upload your verification documents</p>

                <div style={{ background: 'rgba(15, 68, 54, 0.8)', borderRadius: 16, padding: 32, border: '1px solid rgba(196, 229, 56, 0.2)' }}>
                  <div style={{ marginBottom: 24 }}>
                    <h3 style={{ fontSize: 16, fontWeight: 700, marginBottom: 12, display: 'flex', alignItems: 'center', gap: 8 }}>
                      <Icon name="camera" /> Government-Issued ID *
                    </h3>
                    <div className="upload-zone">
                      <Icon name="upload" size={32} />
                      <p style={{ fontWeight: 700, marginTop: 8 }}>Click to upload</p>
                      <p style={{ fontSize: 12, color: 'rgba(255,255,255,0.5)' }}>PDF, JPG, PNG (max 10MB)</p>
                    </div>
                  </div>

                  <div style={{ marginBottom: 24 }}>
                    <h3 style={{ fontSize: 16, fontWeight: 700, marginBottom: 12, display: 'flex', alignItems: 'center', gap: 8 }}>
                      <Icon name="file" /> {VERIFICATION_METHODS.find(m => m.id === selectedVerificationMethod)?.docs} *
                    </h3>
                    <div className="upload-zone">
                      <Icon name="upload" size={32} />
                      <p style={{ fontWeight: 700, marginTop: 8 }}>Click to upload</p>
                      <p style={{ fontSize: 12, color: 'rgba(255,255,255,0.5)' }}>PDF format preferred</p>
                    </div>
                  </div>

                  <div style={{ background: 'rgba(251, 191, 36, 0.1)', border: '1px solid rgba(251, 191, 36, 0.3)', borderRadius: 8, padding: 16, marginBottom: 24 }}>
                    <div style={{ display: 'flex', gap: 12 }}>
                      <Icon name="alert" size={20} />
                      <p style={{ fontSize: 13, color: 'rgba(255,255,255,0.8)' }}>
                        <strong>Verification Timeline:</strong> 1-3 business days. You'll receive email updates.
                      </p>
                    </div>
                  </div>

                  <div style={{ display: 'flex', gap: 16 }}>
                    <button onClick={() => setSelectedVerificationMethod(null)} className="btn-secondary" style={{ flex: 1 }}>Back</button>
                    <button onClick={() => { setVerificationStatus('pending'); alert('Verification Submitted! You will receive an email within 1-3 business days.'); setScreen('dashboard'); }} className="btn-primary" style={{ flex: 1 }}>
                      Submit for Verification
                    </button>
                  </div>
                </div>
              </div>
            </div>
          )}

          {/* ============ DASHBOARD ============ */}
          {screen === 'dashboard' && (
            <div style={{ minHeight: '100vh' }}>
              <div style={{ background: '#0f4436', borderBottom: '1px solid rgba(196, 229, 56, 0.2)', padding: '20px 32px' }}>
                <div style={{ maxWidth: 1400, margin: '0 auto', display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>
                  <div>
                    <h1 className="serif gradient-lime" style={{ fontSize: 28 }}>DEALFLOW</h1>
                    <p style={{ fontSize: 12, color: 'rgba(255,255,255,0.6)' }}>by Overcrest Realty</p>
                  </div>
                  <div style={{ display: 'flex', gap: 12 }}>
                    {verificationStatus === 'pending' && <span className="badge badge-pending" style={{ display: 'flex', alignItems: 'center', gap: 6 }}><Icon name="clock" size={14} /> Verification Pending</span>}
                    <button onClick={() => setScreen('marketplace')} className="btn-secondary" style={{ padding: '10px 20px' }}>Marketplace</button>
                    <button onClick={() => setScreen('login')} className="btn-primary" style={{ padding: '10px 20px', display: 'flex', alignItems: 'center', gap: 8 }}><Icon name="logout" size={16} /> Logout</button>
                  </div>
                </div>
              </div>

              <div style={{ maxWidth: 1400, margin: '0 auto', padding: 32 }}>
                <div style={{ marginBottom: 32 }}>
                  <h2 className="serif gradient-lime" style={{ fontSize: 40, marginBottom: 8 }}>Your Portfolio</h2>
                  <p style={{ color: 'rgba(255,255,255,0.7)' }}>Manage your properties and discover new opportunities</p>
                </div>

                {portfolioProperties.length === 0 ? (
                  <div style={{ textAlign: 'center', padding: 64 }}>
                    <div style={{ width: 96, height: 96, background: 'rgba(196, 229, 56, 0.2)', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', margin: '0 auto 24px' }}>
                      <Icon name="home" size={48} />
                    </div>
                    <h3 style={{ fontSize: 24, fontWeight: 700, marginBottom: 8 }}>No Properties Yet</h3>
                    <p style={{ color: 'rgba(255,255,255,0.6)', marginBottom: 24 }}>Add your first property to get started</p>
                    <button onClick={() => { setScreen('onboarding'); setOnboardingStep('property-type'); }} className="btn-primary" style={{ maxWidth: 300, margin: '0 auto', display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 8 }}>
                      <Icon name="plus" /> Add Property
                    </button>
                  </div>
                ) : (
                  <>
                    <div style={{ display: 'flex', justifyContent: 'flex-end', marginBottom: 24 }}>
                      <button onClick={() => { setScreen('onboarding'); setOnboardingStep('property-type'); }} className="btn-primary" style={{ width: 'auto', padding: '12px 24px', display: 'flex', alignItems: 'center', gap: 8 }}>
                        <Icon name="plus" /> Add Property
                      </button>
                    </div>
                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))', gap: 24 }}>
                      {portfolioProperties.map(prop => (
                        <div key={prop.id} className="card">
                          <h3 style={{ fontSize: 18, fontWeight: 700, marginBottom: 8 }}>{prop.name}</h3>
                          <span className="badge badge-lime" style={{ textTransform: 'capitalize' }}>{prop.type.replace('-', ' ')}</span>
                          <div style={{ marginTop: 16 }}>
                            <p style={{ fontSize: 24, fontWeight: 700, color: '#c4e538' }}>{formatCurrency(prop.price)}</p>
                            <p style={{ fontSize: 12, color: 'rgba(255,255,255,0.5)' }}>Purchase Price</p>
                          </div>
                        </div>
                      ))}
                    </div>
                  </>
                )}
              </div>
            </div>
          )}

          {/* ============ MARKETPLACE ============ */}
          {screen === 'marketplace' && (
            <div style={{ minHeight: '100vh' }}>
              <div style={{ background: '#0f4436', borderBottom: '1px solid rgba(196, 229, 56, 0.2)', padding: '20px 32px' }}>
                <div style={{ maxWidth: 1400, margin: '0 auto', display: 'flex', alignItems: 'center', justifyContent: 'space-between', flexWrap: 'wrap', gap: 16 }}>
                  <div>
                    <h1 className="serif gradient-lime" style={{ fontSize: 28 }}>Marketplace</h1>
                    <p style={{ fontSize: 12, color: 'rgba(255,255,255,0.6)' }}>Browse exclusive off-market deals</p>
                  </div>
                  <div style={{ display: 'flex', gap: 12, alignItems: 'center' }}>
                    <button onClick={() => setShowFlaggedPanel(true)} style={{ background: flaggedCount > 0 ? '#c4e538' : 'rgba(42, 109, 90, 0.5)', color: flaggedCount > 0 ? '#0f4436' : 'white', border: 'none', padding: '10px 16px', borderRadius: 8, cursor: 'pointer', fontWeight: 700, display: 'flex', alignItems: 'center', gap: 8 }}>
                      <Icon name="flag" size={16} /> {flaggedCount} Flagged
                    </button>
                    <button onClick={() => setScreen('dashboard')} className="btn-secondary" style={{ padding: '10px 20px' }}>Dashboard</button>
                    <button onClick={() => setScreen('login')} className="btn-primary" style={{ padding: '10px 20px', display: 'flex', alignItems: 'center', gap: 8 }}><Icon name="logout" size={16} /> Logout</button>
                  </div>
                </div>

                <div style={{ maxWidth: 1400, margin: '16px auto 0', display: 'flex', gap: 8, overflowX: 'auto', paddingBottom: 8 }} className="scrollbar-hide">
                  {[
                    { id: 'all', name: 'All Properties' },
                    { id: 'commercial', name: 'Commercial' },
                    { id: 'multifamily', name: 'Multifamily' },
                    { id: 'residential-flip', name: 'Flips' },
                    { id: 'vacant-land', name: 'Land' },
                    { id: 'on-market', name: '⚡ Missed Opportunities' },
                  ].map(cat => (
                    <button key={cat.id} onClick={() => setActiveFilter(cat.id)} className={`filter-btn ${activeFilter === cat.id ? 'active' : ''}`}>
                      {cat.name}
                    </button>
                  ))}
                </div>
              </div>

              <div style={{ maxWidth: 1400, margin: '0 auto', padding: 32 }}>
                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(340px, 1fr))', gap: 24 }}>
                  {filteredProperties.map(prop => (
                    <div key={prop.id} className="property-card">
                      <div style={{ position: 'relative', height: 200 }}>
                        <img src={prop.image} alt={prop.name} style={{ width: '100%', height: '100%', objectFit: 'cover' }} />
                        <button onClick={(e) => { e.stopPropagation(); toggleFlag(prop.id); }} className={`flag-btn ${prop.flagged ? 'flagged' : ''}`}>
                          <Icon name="flag" size={18} />
                        </button>
                        {prop.featured && <span className="badge badge-lime" style={{ position: 'absolute', top: 12, left: 12 }}>FEATURED</span>}
                        {prop.onMarket && <span className="badge pulse" style={{ position: 'absolute', top: 12, left: 12, background: 'linear-gradient(135deg, #f97316, #ea580c)', color: 'white' }}>ON MARKET</span>}
                      </div>
                      <div style={{ padding: 20 }}>
                        <h3 style={{ fontSize: 18, fontWeight: 700, marginBottom: 4 }}>{prop.name}</h3>
                        <p style={{ fontSize: 13, color: 'rgba(255,255,255,0.6)', display: 'flex', alignItems: 'center', gap: 4, marginBottom: 16 }}>
                          <Icon name="mapPin" size={14} /> {prop.address}, {prop.city}, {prop.state}
                        </p>
                        
                        {prop.onMarket && (
                          <div style={{ background: 'rgba(249, 115, 22, 0.15)', border: '1px solid rgba(249, 115, 22, 0.3)', borderRadius: 8, padding: 12, marginBottom: 16 }}>
                            <p style={{ fontSize: 13, color: '#fb923c', fontWeight: 700 }}>{prop.reason}</p>
                            <p style={{ fontSize: 11, color: 'rgba(255,255,255,0.5)', marginTop: 4 }}>{prop.daysOnMarket} days on market</p>
                          </div>
                        )}

                        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 12, marginBottom: 16 }}>
                          <div>
                            <p style={{ fontSize: 11, color: 'rgba(255,255,255,0.5)' }}>Price</p>
                            <p style={{ fontSize: 18, fontWeight: 700, color: '#c4e538' }}>{formatCurrency(prop.price)}</p>
                          </div>
                          {prop.capRate && (
                            <div>
                              <p style={{ fontSize: 11, color: 'rgba(255,255,255,0.5)' }}>Cap Rate</p>
                              <p style={{ fontSize: 18, fontWeight: 700 }}>{prop.capRate}%</p>
                            </div>
                          )}
                          {prop.roi && (
                            <div>
                              <p style={{ fontSize: 11, color: 'rgba(255,255,255,0.5)' }}>Projected ROI</p>
                              <p style={{ fontSize: 18, fontWeight: 700 }}>{prop.roi}%</p>
                            </div>
                          )}
                          {prop.units && (
                            <div>
                              <p style={{ fontSize: 11, color: 'rgba(255,255,255,0.5)' }}>Units</p>
                              <p style={{ fontSize: 18, fontWeight: 700 }}>{prop.units}</p>
                            </div>
                          )}
                          {prop.acres && (
                            <div>
                              <p style={{ fontSize: 11, color: 'rgba(255,255,255,0.5)' }}>Acres</p>
                              <p style={{ fontSize: 18, fontWeight: 700 }}>{prop.acres}</p>
                            </div>
                          )}
                        </div>

                        <button onClick={() => setSelectedProperty(prop)} className="btn-primary" style={{ fontSize: 13, padding: 12 }}>View Details</button>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          )}

          {/* ============ PROPERTY DETAIL MODAL ============ */}
          {selectedProperty && (
            <div className="modal-overlay" onClick={() => setSelectedProperty(null)}>
              <div className="modal" onClick={(e) => e.stopPropagation()} style={{ maxWidth: 700 }}>
                <img src={selectedProperty.image} alt={selectedProperty.name} style={{ width: '100%', height: 250, objectFit: 'cover' }} />
                <div style={{ padding: 32 }}>
                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: 24 }}>
                    <div>
                      <h2 style={{ fontSize: 28, fontWeight: 700, marginBottom: 4 }}>{selectedProperty.name}</h2>
                      <p style={{ color: 'rgba(255,255,255,0.6)', display: 'flex', alignItems: 'center', gap: 4 }}>
                        <Icon name="mapPin" size={16} /> {selectedProperty.address}, {selectedProperty.city}, {selectedProperty.state}
                      </p>
                    </div>
                    <button onClick={() => setSelectedProperty(null)} style={{ background: 'rgba(255,255,255,0.1)', border: 'none', borderRadius: 8, padding: 8, cursor: 'pointer', color: 'white' }}>
                      <Icon name="x" size={24} />
                    </button>
                  </div>

                  <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: 16, marginBottom: 24 }}>
                    <div style={{ background: 'rgba(42, 109, 90, 0.3)', borderRadius: 8, padding: 16 }}>
                      <p style={{ fontSize: 11, color: 'rgba(255,255,255,0.5)' }}>Price</p>
                      <p style={{ fontSize: 20, fontWeight: 700, color: '#c4e538' }}>{formatCurrency(selectedProperty.price)}</p>
                    </div>
                    {selectedProperty.capRate && (
                      <div style={{ background: 'rgba(42, 109, 90, 0.3)', borderRadius: 8, padding: 16 }}>
                        <p style={{ fontSize: 11, color: 'rgba(255,255,255,0.5)' }}>Cap Rate</p>
                        <p style={{ fontSize: 20, fontWeight: 700 }}>{selectedProperty.capRate}%</p>
                      </div>
                    )}
                    {selectedProperty.noi && (
                      <div style={{ background: 'rgba(42, 109, 90, 0.3)', borderRadius: 8, padding: 16 }}>
                        <p style={{ fontSize: 11, color: 'rgba(255,255,255,0.5)' }}>NOI</p>
                        <p style={{ fontSize: 20, fontWeight: 700 }}>{formatCurrency(selectedProperty.noi)}</p>
                      </div>
                    )}
                    {selectedProperty.roi && (
                      <div style={{ background: 'rgba(42, 109, 90, 0.3)', borderRadius: 8, padding: 16 }}>
                        <p style={{ fontSize: 11, color: 'rgba(255,255,255,0.5)' }}>Projected ROI</p>
                        <p style={{ fontSize: 20, fontWeight: 700, color: '#c4e538' }}>{selectedProperty.roi}%</p>
                      </div>
                    )}
                  </div>

                  <div style={{ display: 'flex', gap: 12 }}>
                    <button onClick={(e) => { e.stopPropagation(); toggleFlag(selectedProperty.id); setSelectedProperty({...selectedProperty, flagged: !selectedProperty.flagged}); }} className="btn-secondary" style={{ flex: 1, display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 8 }}>
                      <Icon name="flag" /> {selectedProperty.flagged ? 'Unflag' : 'Flag Property'}
                    </button>
                    <button onClick={(e) => { e.stopPropagation(); requestInfo(selectedProperty); }} className="btn-primary" style={{ flex: 1 }}>
                      Request More Information
                    </button>
                  </div>
                </div>
              </div>
            </div>
          )}

          {/* ============ FLAGGED PANEL ============ */}
          {showFlaggedPanel && (
            <div className="modal-overlay" onClick={() => setShowFlaggedPanel(false)}>
              <div className="modal" onClick={(e) => e.stopPropagation()} style={{ maxWidth: 500 }}>
                <div style={{ padding: 32 }}>
                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 24 }}>
                    <h3 style={{ fontSize: 24, fontWeight: 700 }}>Flagged Properties ({flaggedCount})</h3>
                    <button onClick={() => setShowFlaggedPanel(false)} style={{ background: 'none', border: 'none', color: 'white', cursor: 'pointer' }}>
                      <Icon name="x" size={24} />
                    </button>
                  </div>

                  {flaggedCount === 0 ? (
                    <p style={{ color: 'rgba(255,255,255,0.6)', textAlign: 'center', padding: 32 }}>No flagged properties yet</p>
                  ) : (
                    <>
                      <div style={{ display: 'flex', flexDirection: 'column', gap: 12, marginBottom: 24 }}>
                        {marketplaceProperties.filter(p => p.flagged).map(prop => (
                          <div key={prop.id} style={{ display: 'flex', alignItems: 'center', gap: 12, background: 'rgba(42, 109, 90, 0.3)', borderRadius: 8, padding: 12 }}>
                            <img src={prop.image} alt={prop.name} style={{ width: 60, height: 60, objectFit: 'cover', borderRadius: 8 }} />
                            <div style={{ flex: 1 }}>
                              <p style={{ fontWeight: 700, fontSize: 14 }}>{prop.name}</p>
                              <p style={{ fontSize: 12, color: '#c4e538' }}>{formatCurrency(prop.price)}</p>
                            </div>
                            <button onClick={() => toggleFlag(prop.id)} style={{ background: 'none', border: 'none', color: 'rgba(255,255,255,0.5)', cursor: 'pointer' }}>
                              <Icon name="x" size={18} />
                            </button>
                          </div>
                        ))}
                      </div>
                      <button onClick={() => { setConfirmationMsg(`Information requested for all ${flaggedCount} flagged properties. Our team will contact you within 24 hours.`); setShowConfirmation(true); setShowFlaggedPanel(false); }} className="btn-primary">
                        Request Info for All {flaggedCount} Properties
                      </button>
                    </>
                  )}
                </div>
              </div>
            </div>
          )}

          {/* ============ CONFIRMATION MODAL ============ */}
          {showConfirmation && (
            <div className="modal-overlay" onClick={() => setShowConfirmation(false)}>
              <div className="modal" onClick={(e) => e.stopPropagation()} style={{ maxWidth: 450, textAlign: 'center' }}>
                <div style={{ padding: 48 }}>
                  <div style={{ width: 80, height: 80, background: '#c4e538', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', margin: '0 auto 24px', color: '#0f4436' }}>
                    <Icon name="check" size={40} />
                  </div>
                  <h3 style={{ fontSize: 24, fontWeight: 700, marginBottom: 16 }}>Request Submitted!</h3>
                  <p style={{ color: 'rgba(255,255,255,0.7)', marginBottom: 24 }}>{confirmationMsg}</p>
                  <button onClick={() => setShowConfirmation(false)} className="btn-primary">Got It!</button>
                </div>
              </div>
            </div>
          )}

        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<DealflowApp />);
  </script>
</body>
</html>